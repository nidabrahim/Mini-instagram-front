{"ast":null,"code":"import _classCallCheck from \"/home/youssef/ISIMA/projects/ReactJS/InstaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/youssef/ISIMA/projects/ReactJS/InstaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/youssef/ISIMA/projects/ReactJS/InstaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/youssef/ISIMA/projects/ReactJS/InstaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/youssef/ISIMA/projects/ReactJS/InstaFront/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/youssef/ISIMA/projects/ReactJS/InstaFront/src/components/post.jsx\";\nimport React, { Component } from 'react';\nimport Images from '../assets/images/images.jpg';\nimport Modal from 'react-responsive-modal';\nimport Avatar from '../assets/images/avatar.jpg';\nimport Comment from './comment';\nimport { UserConsumer } from '../providers/userProvider';\nimport { PostConsumer, PostContext } from '../providers/postProvider';\nimport API from '../api';\nimport ImageLoader from 'react-image-file';\n\nvar Post =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Post, _Component);\n\n  function Post(props) {\n    var _this;\n\n    _classCallCheck(this, Post);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Post).call(this, props));\n    _this.state = {\n      open: false\n    };\n\n    _this.onOpenModal = function () {\n      _this.setState({\n        open: true\n      });\n    };\n\n    _this.onCloseModal = function () {\n      _this.setState({\n        open: false\n      });\n    };\n\n    _this.state = {\n      image: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Post, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var open = this.state.open; // const imgUrl = \"https://nodejs-mongo-persistent-instazz.7e14.starter-us-west-2.openshiftapps.com/api/image/\"+this.context.post._id;\n\n      var imgUrl = \"http://localhost:8080/api/image/\" + this.context.post._id;\n      console.log(imgUrl);\n      return React.createElement(PostConsumer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, function (_ref) {\n        var post = _ref.post;\n        return React.createElement(\"div\", {\n          className: \"post\",\n          style: {\n            width: _this2.props.width\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: imgUrl,\n          alt: \"post\",\n          width: \"100%\",\n          onClick: _this2.onOpenModal,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 73\n          },\n          __self: this\n        }), React.createElement(Modal, {\n          open: open,\n          onClose: _this2.onCloseModal,\n          center: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 75\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"popup-container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"pic-popup\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }, React.createElement(\"img\", {\n          src: imgUrl,\n          alt: \"post\",\n          width: \"95%\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"post-description\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, post.title), React.createElement(\"div\", {\n          className: \"desc\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }, post.description)), React.createElement(Comment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }))));\n      });\n    }\n  }]);\n\n  return Post;\n}(Component);\n\nexport { Post as default };\nPost.contextType = PostContext; // const PostProvider = value => (\n//     <PostContext.Provider value={value}>\n//       <Post />\n//     </PostContext.Provider>\n// );\n// export default PostProvider","map":{"version":3,"sources":["/home/youssef/ISIMA/projects/ReactJS/InstaFront/src/components/post.jsx"],"names":["React","Component","Images","Modal","Avatar","Comment","UserConsumer","PostConsumer","PostContext","API","ImageLoader","Post","props","state","open","onOpenModal","setState","onCloseModal","image","imgUrl","context","post","_id","console","log","width","title","description","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Images from '../assets/images/images.jpg';\nimport Modal from 'react-responsive-modal';\nimport Avatar from '../assets/images/avatar.jpg';\nimport Comment from './comment';\nimport { UserConsumer } from '../providers/userProvider';\nimport { PostConsumer, PostContext } from '../providers/postProvider';\nimport API from '../api';\nimport ImageLoader from 'react-image-file';\n\n\nexport default class Post extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            image : \"\"\n        }\n    }\n\n    state = {\n        open: false,\n    };\n\n    // componentDidMount() {\n    //     console.log(this.context.post.img);\n\n    //     const img = {\n    //         path : this.context.post.img\n    //     }\n\n    //     const access_token = localStorage.getItem(\"token\");\n    //     const config = {\n    //       headers: {\n    //         Authorization: access_token,\n    //         'Content-Type': 'application/json'\n    //       }\n    //     }\n\n    //     API.post(\"post/path\", img, config)\n    //     .then(res => {\n    //         const image = res.data.toString('base64');\n    //         console.log('Image : ',image);\n    //         this.setState({ image : image});\n            \n    //     })\n    //     .catch(function (error) {\n    //     console.log(error);\n    //     })\n    // }\n\n    onOpenModal = () => {\n        this.setState({ open: true });\n    };\n\n    onCloseModal = () => {\n        this.setState({ open: false });\n    };\n\n    render() {\n        const { open } = this.state;\n\n        // const imgUrl = \"https://nodejs-mongo-persistent-instazz.7e14.starter-us-west-2.openshiftapps.com/api/image/\"+this.context.post._id;\n        const imgUrl = \"http://localhost:8080/api/image/\"+this.context.post._id;\n        \n        console.log(imgUrl);\n\n        return (\n            <PostConsumer>\n            {({ post }) => (\n                <div className=\"post\" style={{width: this.props.width}}>\n                \n                    <img src={imgUrl} alt=\"post\" width=\"100%\" onClick={this.onOpenModal} />\n                    \n                    <Modal open={open} onClose={this.onCloseModal} center>\n                        <div className=\"popup-container\">\n                            <div className=\"pic-popup\" >\n                                <img src={imgUrl} alt=\"post\" width=\"95%\"/>\n                            </div>\n                            <div className=\"post-description\">\n                                <span className=\"title\">\n                                    {post.title}\n                                </span>\n                                <div className=\"desc\" >\n                                    {post.description}\n                                </div>\n                            </div>\n\n                            <Comment />\n                        \n                        </div>\n                    </Modal>\n\n                </div>\n            )}\n            </PostConsumer>\n        );\n    }\n}\nPost.contextType = PostContext;\n\n// const PostProvider = value => (\n//     <PostContext.Provider value={value}>\n//       <Post />\n//     </PostContext.Provider>\n// );\n\n// export default PostProvider"]},"metadata":{},"sourceType":"module"}