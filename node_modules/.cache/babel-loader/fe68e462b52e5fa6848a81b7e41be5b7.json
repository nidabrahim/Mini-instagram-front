{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar load_1 = require(\"./load\");\n\nvar createHTMLImageElement_1 = require(\"./createHTMLImageElement\");\n/**\n * Loads an image buffer from a File, a Blob, or a string\n * Then creates an object with { src, alt, width, height }\n * and calls the passed callback with that object.\n *\n * It accomplishes this by creating an HTML image element,\n * waiting for it to load, then calling the callback,\n * then discarding the image element\n * @param props anything that can become a readable image\n * @param cb a function of shape (err:Error, props:imageProps), where `imageProps` is the object described above\n *\n */\n\n\nexports.loadImageProps = function (props, cb) {\n  return load_1.loadAnything(props, function (err, res, done) {\n    if (err) {\n      cb(err);\n    } else if (res) {\n      createHTMLImageElement_1.createHTMLImageElement(res.src, function (img) {\n        var ret = {\n          src: res.src,\n          alt: 'alt' in res ? res.alt : '',\n          width: img.width,\n          height: img.height\n        };\n\n        if (done) {\n          done();\n        }\n\n        ;\n        cb(null, ret);\n      });\n    }\n  });\n};\n\nexports.default = exports.loadImageProps;","map":null,"metadata":{},"sourceType":"script"}